# 概述
Web 浏览器、服务器和相关的 Web 应用程序都是通过 HTTP 相互通信的。HTTP 是现代全球因特网中使用的公共语言。

+ Web 内容都是存储在 Web 服务器上的。Web 服务器所使用的都是 HTTP 协议，因此经常会被称为 HTTP 服务器。客户端向服务器发送 HTTP 请求，服务器会在 HTTP 响应中回送所请求的数据。
+ Web 服务器是 Web 资源（Web resource）的宿主。Web 资源是 Web 内容的源头。
+ Web 服务器会为所有 HTTP 对象数据附加一个 MIME 类型；MIME 类型是一种文本标记，表示一种主要的对象类型和一种特定的子类型，中间用一道斜杠来分割。（例如 image/jpeg text/html application/json）
+ 每个 Web 服务器资源都有一个名字，被称为统一资源标识符（Uniform Resource Idenifier, URI）。
+ 统一资源定位符（Uniform Resource Location）是资源标识符最常见的形式。 
    + URL 的第一部分称为方案（scheme），说明了访问资源使用的协议。这部分通常就是 HTTP 协议。（http://）
    + URL 的第二部分是给出了服务器的因特网地址。（比如，cn.bing.com）
    + URL 的第三部分指定了 Web 服务器上的某个资源。（比如，/specials/saw-blade.gif）
+ URI 的第二种形式就是统一资源名（Uniform Resource Name）。URN 是作为特定内容的唯一名称使用的，与目前的资源所在地无关。（例如urn:ietf:rfc:2124）（URN仍然处于试验阶段，还未大范围使用）

## 事务 
一个 HTTP 事务由一条（从客户端发往服务器的）请求命令和一个（从服务器发回客户端的）响应结果组成。这种通信是通过名为 HTTP 报文（HTTP message）的格式化数据进行的。

+ HTTP 方法：HTTP 支持几种不同的请求命令，这些方法被称为 HTTP 方法（HTTP method）。每条 HTTP 请求报文都包含一个方法。这个方法会告诉服务器要执行什么动作。
    + GET：从服务器向客户端发送命名资源；
    + PUT：将来自客户端的数据存储到一个命名的服务器资源中去；
    + DELETE：从服务器中删除命名资源；
    + POST：将客户端数据发送到一个服务器网关应用程序；
    + HEAD：仅发送命名资源响应中的 HTTP 首部；
+ 状态码：每条 HTTP 响应报文返回时都会携带一个状态码。状态码是一个三位数字的代码，告知客户端请求是否成功，或者是否需要采取其他动作。
    + 200：OK。文档正确返回；
    + 302：Redirect（重定向）。到其他地方去获取资源；
    + 404：Not Found（未找到）。无法找到这个资源；
+ 一个 Web 页面通常不是单个资源，而是一组资源的集合。（HTML、图片、音频....）

## 报文
+ HTTP 报文是由一行一行的简单字符串组成的。HTTP报文都是纯文本，不是二进制代码，所以人们可以很方便地对其进行读写。
+ 从 Web 客户端发往 Web 服务器的 HTTP 报文称为请求报文（request message）。从服务器发往客户端的报文成为响应报文（response message），此外没有其他类型的 HTTP 报文。
    + 起始行：报文的第一行就是起始行，在请求报文中用来说明要做些什么，在响应报文中说明出现了什么情况。
    + 首部字段：起始行后面有零个或多个首部字段。每个首部字段都包含一个名字和一个值，为了便于解析，两者之间用冒号（:）来分割，。首部以一个空行结束。
    + 主体：请求主体中包括了要发送给 Web 服务器的数据；响应主体中装载了要返回给客户端的数据。起始行和首部都是文本形式且都是结构化的，而主体则不同，主体中可以包含任意的二进制数据（比如图片、视频、音轨、软件程序）。当然，主题中也可以包含文本。

## 连接
+ HTTP 是个应用层协议。HTTP 无需操心网络通信的具体细节；它把联网的细节都交给了通用、可考的因特网传输协议 TCP/IP。
+ TCP 提供了
    + 无差错的数据传输；
    + 按序传输（数据总是会按照发送的顺序到达）；
    + 未分段的数据流（可以在任意时刻以任意尺寸将数据发送出去）。
+ 只要建立了 TCP 连接，客户端与服务器之间的报文交换就不会丢失、不会被破坏，也不会在接收时出现错序。
+ 在 HTTP 客户端向服务器发送报文之前，需要用网络协议（Internet Protocol，IP）地址和端口号在客户端和服务器之间建立一条 TCP/IP 连接。
+ 通过 HTTP 协议获取资源的步骤
    + 浏览器从 URL 中解析出服务器的主机名；
    + 浏览器将服务器的主机名转换为服务器的 IP 地址；
    + 浏览器将端口号（假如有的话）从 URL 中解析出来；
    + 浏览器建立一条与 Web 服务器的 TCP 连接；
    + 浏览器向服务器发送一条 HTTP 请求报文；
    + 服务器向浏览器回送一条 HTTP 响应报文；
    + 关闭连接，浏览器显示文档；

## 协议版本
+ HTTP/0.9：HTTP/0.9 只支持 GET 方法，不支持多媒体内容的 MIME 类型、各种 HTTP 首部，或者版本号。
+ HTTP/1.0：HTTP/1.0 添加了版本号、各种 HTTP 首部、一些额外的方法，以及对多媒体对象的处理。
+ HTTP/1.0+：添加了一些非官方的事实标准，包括持久的 keep-alive 连接、虚拟主机支持，以及代理连接支持。
+ HTTP/1.1：HTTP/1.1 重点关注的是校正 HTTP 设计中的结构性缺陷，明确语义，引入重要的性能优化措施，并删除一些不好的特性。

## Web 的结构组件
+ 代理：代理位于客户端与服务器之间，接收所有客户端的 HTTP 请求，并将这些请求转发给服务器（可能会对请求进行修改之后转发）。对用户来说，这些应用程序就是一个代理，代表用户访问服务器。
+ 缓存：Web 缓存（Web cache）或代理缓存（proxy cache）是一种特殊的 HTTP 代理服务器，可以将经过代理传送的常用文档复制保存起来。下一个请求同一文档的客户端就可以享受缓存的私有副本所提供的服务了。
+ 网关：网关（gateway）是一种特殊的服务器，作为其他服务器的中间实体使用。通常用于将 HTTP 流量转换成其他的协议。网关接受请求时就好像自己是资源的源端服务器一样。客户端可能并不知道自己正在与一个网关进行通信。
+ 隧道：隧道（tunnel）是建立起来之后，就会在两条连接之间对原始数据进行盲转发的 HTTP 应用程序。HTTP 隧道通常用来在一条或多条 HTTP 连接上转发非 HTTP 数据，转发时不会窥探数据。
+ 用户 Agent 代理是代表用户发起 HTTP 请求的客户端程序。所有发布 Web 请求的应用该程序都是 HTTP Agent 代理。（例如 Web 浏览器）